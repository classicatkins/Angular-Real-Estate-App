import { Observable } from 'rxjs';
import { Attachment } from 'stream-chat';
import { ChannelService } from './channel.service';
import { NotificationService } from './notification.service';
import { AttachmentUpload, DefaultStreamChatGenerics } from './types';
import * as i0 from "@angular/core";
/**
 * The `AttachmentService` manages the uploads of a message input.
 */
export declare class AttachmentService<T extends DefaultStreamChatGenerics = DefaultStreamChatGenerics> {
    private channelService;
    private notificationService;
    /**
     * Emits the number of uploads in progress.
     */
    attachmentUploadInProgressCounter$: Observable<number>;
    /**
     * Emits the state of the uploads ([`AttachmentUpload[]`](https://github.com/GetStream/stream-chat-angular/blob/master/projects/stream-chat-angular/src/lib/types.ts)), it adds a state (`success`, `error` or `uploading`) to each file the user selects for upload. It is used by the [`AttachmentPreviewList`](../components/AttachmentPreviewListComponent.mdx) to display the attachment previews.
     */
    attachmentUploads$: Observable<AttachmentUpload[]>;
    private attachmentUploadInProgressCounterSubject;
    private attachmentUploadsSubject;
    constructor(channelService: ChannelService, notificationService: NotificationService);
    /**
     * Resets the attachments uploads (for example after the message with the attachments sent successfully)
     */
    resetAttachmentUploads(): void;
    /**
     * Uploads the selected files, and creates preview for image files. The result is propagated throught the `attachmentUploads$` stream.
     * @param fileList The files selected by the user
     * @returns A promise with the result
     */
    filesSelected(fileList: FileList | null): Promise<void>;
    /**
     * You can add custom `image`, `video` and `file` attachments using this method.
     *
     * Note: If you just want to use your own CDN for file uploads, you don't necessary need this method, you can just specify you own upload function in the [`ChannelService`](./ChannelService.mdx)
     *
     * @param attachment
     */
    addAttachment(attachment: Attachment<T>): void;
    /**
     * Retries to upload an attachment.
     * @param file
     * @returns A promise with the result
     */
    retryAttachmentUpload(file: File): Promise<void>;
    /**
     * Deletes an attachment, the attachment can have any state (`error`, `uploading` or `success`).
     * @param upload
     */
    deleteAttachment(upload: AttachmentUpload): Promise<void>;
    /**
     * Maps the current uploads to a format that can be sent along with the message to the Stream API.
     * @returns the attachments
     */
    mapToAttachments(): Attachment<import("stream-chat").DefaultGenerics>[];
    /**
     * Maps attachments received from the Stream API to uploads. This is useful when editing a message.
     * @param attachments Attachemnts received with the message
     */
    createFromAttachments(attachments: Attachment<T>[]): void;
    private createPreview;
    private uploadAttachments;
    static ɵfac: i0.ɵɵFactoryDeclaration<AttachmentService<any>, never>;
    static ɵprov: i0.ɵɵInjectableDeclaration<AttachmentService<any>>;
}
